# Generated by Django 4.2.7 on 2024-02-17 14:00

from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone


class Migration(migrations.Migration):

    dependencies = [
        ('data_map_backend', '0013_alter_dataset_source_plugin_and_more'),
    ]

    operations = [
        migrations.RemoveField(
            model_name='classifier',
            name='dataset',
        ),
        migrations.RemoveField(
            model_name='classifier',
            name='negative_annotation_field',
        ),
        migrations.RemoveField(
            model_name='classifier',
            name='positive_annotation_field',
        ),
        migrations.RemoveField(
            model_name='classifier',
            name='relevant_object_fields',
        ),
        migrations.RemoveField(
            model_name='historicalclassifier',
            name='dataset',
        ),
        migrations.RemoveField(
            model_name='historicalclassifier',
            name='negative_annotation_field',
        ),
        migrations.RemoveField(
            model_name='historicalclassifier',
            name='positive_annotation_field',
        ),
        migrations.CreateModel(
            name='ClassifierDatasetSpecificSettings',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('created_at', models.DateTimeField(blank=True, default=django.utils.timezone.now, null=True, verbose_name='Created at')),
                ('changed_at', models.DateTimeField(auto_now=True, verbose_name='Changed at')),
                ('classifier', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='dataset_specific_settings', to='data_map_backend.classifier', verbose_name='Classifier')),
                ('dataset', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='+', to='data_map_backend.dataset', verbose_name='Dataset')),
                ('negative_annotation_field', models.ForeignKey(blank=True, help_text='binary: bool field, exclusive: single tag, non-exclusive: tag array field', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to='data_map_backend.objectfield', verbose_name='Negative Annotation Field')),
                ('positive_annotation_field', models.ForeignKey(blank=True, help_text='binary: bool field, exclusive: single tag, non-exclusive: tag array field', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to='data_map_backend.objectfield', verbose_name='Positive Annotation Field')),
                ('relevant_object_fields', models.ManyToManyField(blank=True, help_text="The 'source' fields (text or image) for items from this dataset, using default search fields (or their sources for vectors) if empty", related_name='+', to='data_map_backend.objectfield', verbose_name='Relevant Object Fields')),
            ],
        ),
    ]
